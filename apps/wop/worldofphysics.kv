#:kivy 1.0.9


<GameRendererWidget>:
    size_hint: (1, 1)
    BoxLayout:
        size_hint: (1, 1)
        orientation: "horizontal"       


<SelectGooBubble>:
    size_hint: (None, None)
    size: (160, 120)
    pos_hint: {'center_x': 0, 'y':0}
    BubbleButton:
        text: 'Cut'
    BubbleButton:
        text: 'Copy'
    BubbleButton:
        text: 'Paste'



<CreateAndSelectWidget>:
    orientation: "vertical"
    TabbedPanel:
        tab_pos: "left_mid"
        do_default_tab: False
        TabbedPanelItem:
            text: "select"
            BoxLayout:
                orientation: "vertical"
                Button:
                    id: selectObjectButton
                    text: "->"
                    on_release: root.on_release_selector_button("select")
                Button:
                    id: killObjectButton
                    text: "kill"
                    on_release: root.on_release_selector_button("kill")
        TabbedPanelItem:
            text: "magic shapes"
            BoxLayout:
                orientation: "vertical"
                Button:
                    id: selectMagicLineButton
                    text: "magic\nline"
                    #on_release: root.on_release_selector_button("select")
                Button:
                    id: selectMagicShapeButton
                    text: "magic\nshape"
                    #on_release: root.on_release_selector_button("kill")
        TabbedPanelItem:
            text: "shapes"
            BoxLayout:
                orientation: "vertical"
                Button:
                    id: selectSmallBoxButton
                    text: "small\n Box"
                    #on_release: root.on_release_selector_button("select")
                Button:
                    id: selectMediumBoxButton
                    text: "medium\n Box"
                    #on_release: root.on_release_selector_button("select")
                Button:
                    id: selectBigBoxButton
                    text: "big\n Box"
                    #on_release: root.on_release_selector_button("select")
                Button:
                    id: selectSmallCircleButton
                    text: "small\n Circle"
                    #on_release: root.on_release_selector_button("select")
                Button:
                    id: selectMediumCircleButton
                    text: "medium\n Circle"
                    #on_release: root.on_release_selector_button("select")
                Button:
                    id: selectBigCircleButton
                    text: "big\n Box"
                    #on_release: root.on_release_selector_button("select")

        TabbedPanelItem:
            text: "goos"
            default_tab:True
            BoxLayout:
                orientation: "vertical"
                Button:
                    id: blackGooButton
                    text: "BG"
                    on_release: root.on_release_creator_button("black-goo")
                    Image:
                        size: (self.parent.size[0], self.parent.size[1])
                        y: self.parent.y
                        x: self.parent.x
                        source: 'res/black_goo_128.png'

                Button:
                    id: greenGooButton
                    text: "GB"
                    on_release: root.on_release_creator_button("green-goo")
                    Image:
                        size: (self.parent.size[0], self.parent.size[1])
                        y: self.parent.y #+ self.parent.height - 30
                        x: self.parent.x
                        source: 'res/green_goo_128.png'

                Button:
                    id: anchorGooButton
                    #text: "Anchor\nGoo"
                    on_release: root.on_release_creator_button("anchor-goo")
                    Image:
                        size: (self.parent.size[0], self.parent.size[1])
                        y: self.parent.y #+ self.parent.height - 30
                        x: self.parent.x
                        source: 'res/amboss_goo_128.png'

                Button:
                    id: flyGooButton
                    text: "fly\nGoo"
                    #on_release: root.on_release_creator_button("green-goo")
                    #Image:
                    #    size: (self.parent.size[0], self.parent.size[1])
                    #    y: self.parent.y #+ self.parent.height - 30
                    #    x: self.parent.x
                    #    source: 'res/green_goo_128.png'

                
                Button:
                    id: wheelGooButton
                    text: "Wheel\nGoo"
                    #on_release: root.on_release_creator_button("green-goo")
                    #Image:
                    #    size: (self.parent.size[0], self.parent.size[1])
                    #    y: self.parent.y #+ self.parent.height - 30
                    #    x: self.parent.x
                    #    source: 'res/green_goo_128.png'


<DrawPhysicsWidget>:
    viewer:viewer
    zoomOutButton: zoomOutButton
    zoomInButton: zoomInButton
    createAndSelectWidget: createAndSelectWidget
    BoxLayout:
        opacity:1
        size_hint: (1, 1)
        orientation: "horizontal"

        CreateAndSelectWidget:
            id: createAndSelectWidget
            size_hint: (0.15, 1)              
            
        BoxLayout:
            orientation: "vertical"
            size_hint: (1, 1)
            size: (100,200)
            ScrollView:
                do_scroll: False
                size_hint: (1, 1)
                GameRendererWidget:
                    index: -3
                    text: "foo"
                    size_hint: (1,1)
                    id: viewer

            BoxLayout:
                size_hint: (1,0.1)
                orientation: "horizontal"
                Button:
                    id: zoomOutButton
                    text: "-"
                    on_release: root.zoomOut()
                Button:
                    id: zoomInButton
                    text: "+"
                    on_release: root.zoomIn()

                Button:
                    id: menuButton
                    text: "menu"
                    #on_release: root.zoomIn()



<LevelSelectorWidget>:
    Button:
        text: "level 1"
        on_press: root.screen_manager.current = 'level_render_screen'
    Button:
        text: "level 2"
    Button:
        text: "level 3"
    Button:
        text: "back"
        on_press: root.screen_manager.current = 'main_menu_screen'

<MainSettingWidget>:
    orientation: 'vertical'
    Button:
        text: "back"
        on_press: root.screen_manager.current = 'main_menu_screen'


<MainMenuWidget>:
    orientation: 'vertical'
    Button:
        text: "Play"
        on_press: root.screen_manager.current = 'level_selector_screen'
    Button:
        text: "Settings"
        on_press: root.screen_manager.current = 'main_settings_screen'
    Button:
        text: "Exit"


<ScreenSelectorWidget>:
    drawPysicsWidget: drawPysicsWidget
    screen_manager: screen_manager
    ScreenManager:
        id: screen_manager

        Screen:
            name: 'main_menu_screen'
            MainMenuWidget:
                screen_manager: screen_manager
        Screen:
            name: 'main_settings_screen'
            MainSettingWidget:
                screen_manager: screen_manager
        Screen:
            name: 'level_selector_screen'
            LevelSelectorWidget:
                screen_manager: screen_manager
        Screen:
            name: 'level_render_screen'
            DrawPhysicsWidget:
                id: drawPysicsWidget


<TheGame>:
    BoxLayout:
        ScreenManager:
            id: _screen_manager
            MenuScreen:
            SettingsScreen:
